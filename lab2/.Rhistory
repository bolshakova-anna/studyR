plot(cars)
## Do Not Run
# how to install required packages?
install.packages(c("RColorBrewer","mixOmics"))
# source("http://bioconductor.org/biocLite.R")
# biocLite("edgeR")
## End DNR
library(edgeR)
## Do Not Run
# how to install required packages?
install.packages(c("RColorBrewer","mixOmics"))
source("http://bioconductor.org/biocLite.R")
source("http://bioconductor.org/biocLite.R")
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("edgeR")
library(dplyr)
library(tibble)
name = "AL"
input <- data.table::fread(file_name)
state_table <- tibble(input)
library(dplyr)
library(tibble)
name = "AL"
input <- data.table::fread(file_name)
name = "AL"
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
number_of_hospitals <- row
number_of_hospitals <- row_number()
state_table %>% filter(name)
state_table %>% filter(state_table[1] == name)
state_table[1]
input <- data.table::fread(file_name)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table[1]
number_of_hospitals <- ncol(state_table)
number_of_hospitals <- nrow(state_table)
state_table %>% filter($`"State"` == name)
state_table %>% state_table[$`"State"` == name]
state_table <- state_table[(state_table[,1] == name),]
input <- data.table::fread(file_name)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name),]
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,'\"State\"'] == name),]
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table[,'\"State\"']
name = "\"AL\""
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"' ,
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Lower Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"',
'\"Upper Mortality Estimate - Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,'\"State\"'] == name),]
state_table <- state_table[(state_table[,1] == name),]
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name),]
number_of_hospitals <- nrow(state_table)
state_table %>% select(name)
state_table <- state_table[(state_table[,1] == name), ]
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[,(state_table[,1] == name)]
state_table <- state_table[,(state_table[,1] == name)]
state_table <- state_table[(state_table[,1] == name), ]
max_rate_death = c(max(state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Attack"`,
state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Failure"`,
state_table$`"Hospital 30-Day Death (Mortality) Rates from Pneumonia"`))
View(state_table)
View(state_table)
#grep('.*Импорт', colnames(region))
max_rate_death = c(max(state_table[(state_table[,2] != "\"Not Available\""),2],
max(state_table[(state_table[,3] != "\"Not Available\""),3]),
max(state_table[(state_table[,4] != "\"Not Available\""),4])))
state_table[,2]
state_table[(state_table[,2] != "\"Not Available\""),2]
state_table[(state_table[,2] != "\"Not Available\""),2]
state_table[(state_table[,2] != "\"Not Available\""),2]
state_table[(state_table[,2] != "\"Not Available\""),2]
state_table[(state_table[,2] != "\"Not Available\""),2]
state_table[(state_table[,2] != "\"Not Available\""),2]
max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max(state_table[(state_table[,2] != "\"Not Available\""),2]
max(state_table[(state_table[,2] != "\"Not Available\""),2]
#grep('.*Импорт', colnames(region))
max_rate_death = c(max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
max_rate_death = list(max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
max_rate_death = as.list(max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
max_rate_death <- (max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
max_rate_death <- [max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
#grep('.*Импорт', colnames(region))
max_rate_death <- list(max_attack = max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max_ph = max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max_failure = max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
max_rate_death <- list(max_attack = max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
max_ph = max(state_table[(state_table[,3] != "\"Not Available\""),3]) ,
max_failure = max(state_table[(state_table[,4] != "\"Not Available\""),4])))
#grep('.*Импорт', colnames(region))
as.numeric("\"12"\"")
View(state_table)
View(state_table)
state_table[,2] <- gsub( "\"" , "", state_table[,2])
View(state_table)
View(state_table)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
number_of_hospitals <- nrow(state_table)
gsub( "\'\"" , "", state_table[,2])
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
number_of_hospitals <- nrow(state_table)
state_table[,2] <- gsub( "\'\"" , "", state_table[,2])
View(state_table)
gsub( "\'\"" , "", state_table[,2])
gsub( "\"\"" , "", state_table[,2])
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
number_of_hospitals <- nrow(state_table)
gsub( "\"" , "", state_table[,2])
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
number_of_hospitals <- nrow(state_table)
gsub( "\"\\" , "", state_table[,2])
gsub( "\"\" , "", state_table[,2])
#grep('.*Импорт', colnames(region))
max_rate_death <- list(max_attack = max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
gsub( "\"\" , "", state_table[,2])
#grep('.*Импорт', colnames(region))
max_rate_death <- list(max_attack = max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
number_of_hospitals <- nrow(state_table)
gsub( "\"\" , "", state_table[,2])
#grep('.*Импорт', colnames(region))
max_rate_death <- list(max_attack = max(state_table[(state_table[,2] != "\"Not Available\""),2] ,
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
number_of_hospitals <- nrow(state_table)
gsub( '\"\\' , "", state_table[,2])
gsub( '\"' , "", state_table[,2])
gsub( "[[:punct:]]" , "", state_table[,2])
state_table <- gsub( "[[:punct:]]" , "", state_table)
state_table <- noquote(state_table)
input <- data.table::fread(file_name, quote="")
state_table <- tibble(input)
View(state_table)
View(input)
View(state_table)
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name, quote="")
input <- data.table::fread(file_name, quote=" ")
input <- data.table::fread(file_name, quote=" ")
state_table <- tibble(input)
input <- data.table::fread(file_name, quote="")
input <- data.table::fread(file_name)
input <- input %>%
mutate_if(is.character, removeQuotes)
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
removeQuotes <- function(x) gsub("\"", "", x)
input <- input %>%
mutate_if(is.character, removeQuotes)
View(input)
View(state_table)
state_table <- tibble(input)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('State',
'Hospital 30-Day Death (Mortality) Rates from Heart Attack',
'Hospital 30-Day Death (Mortality) Rates from Pneumonia',
'Hospital 30-Day Death (Mortality) Rates from Heart Failure'))]
state_table <- state_table[(state_table[,1] == name), ]
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('State',
'Hospital 30-Day Death (Mortality) Rates from Heart Attack',
'Hospital 30-Day Death (Mortality) Rates from Pneumonia',
'Hospital 30-Day Death (Mortality) Rates from Heart Failure'))]
state_table <- state_table[(state_table[,1] == name), ]
name = "AL"
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
removeQuotes <- function(x) gsub("\"", "", x)
input <- input %>%
mutate_if(is.character, removeQuotes)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('State',
'Hospital 30-Day Death (Mortality) Rates from Heart Attack',
'Hospital 30-Day Death (Mortality) Rates from Pneumonia',
'Hospital 30-Day Death (Mortality) Rates from Heart Failure'))]
state_table <- state_table[(state_table[,1] == name), ]
state_table <- state_table[(state_table[,1] == name), ]
state_table[,1]
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
removeQuotes <- function(x) gsub("\"", "", x)
input <- input %>%
mutate_if(is.character, removeQuotes)
state_table <- tibble(input)
(colnames(state_table)
colnames(state_table)
colnames(state_table)
View(input)
name = "AL"
file_name = "C:/Users/User/studyR/data/outcome-of-care-measures.csv"
input <- data.table::fread(file_name)
removeQuotes <- function(x) gsub("\"", "", x)
input <- input %>%
mutate_if(is.character, removeQuotes)
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('State',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
state_table <- state_table[(state_table[,1] == name), ]
state_table <- tibble(input)
View(state_table)
name = "AL"
state_table[,1]
state_table <- tibble(input)
state_table <- state_table[,(colnames(state_table) %in% c('\"State\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Attack\"',
'\"Hospital 30-Day Death (Mortality) Rates from Pneumonia\"',
'\"Hospital 30-Day Death (Mortality) Rates from Heart Failure\"'))]
View(state_table)
View(state_table)
state_table <- state_table[(state_table[,1] == name), ]
#grep('.*Импорт', colnames(region))
max(as.numeric(state_table[,2]))
as.numeric(state_table[,2])
state_table[,2]
state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Attack"` = as.numeric((as.character((state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Attack"`))))
View(state_table)
View(state_table)
state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Attack"` = as.numeric((as.character((state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Attack"`))))
state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Failure"` = as.numeric(as.character(state_table$`"Hospital 30-Day Death (Mortality) Rates from Heart Failure"`))
state_table$`"Hospital 30-Day Death (Mortality) Rates from Pneumonia"` = as.numeric(as.character(state_table$`"Hospital 30-Day Death (Mortality) Rates from Pneumonia"`))
#grep('.*Импорт', colnames(region))
max(state_table[,2]))
#grep('.*Импорт', colnames(region))
max(state_table[,2])
#grep('.*Импорт', colnames(region))
max(na.omit(state_table[,2]))
#grep('.*Импорт', colnames(region))
max_rate_death <- c(max(na.omit(state_table[,2])),
max(na.omit(state_table[,3])),
max(na.omit(state_table[,4])))
View(state_table)
min_rate_death <- c(min(na.omit(state_table[,2])), #heart attack
min(na.omit(state_table[,3])), #heart failure
min(na.omit(state_table[,4]))) #pneumonia)
setwd("C:/Users/User/studyR/lab2")
file_name <- "C:/Users/User/studyR/data/ExpImp.Rdata"
load(file_name)
View(ExpImp)
library(dplyr)
library(tibble)
region <- tibble(ExpImp[grep(input, ExpImp$Регион),])  #поиск input в таблице
get_info <- function(input){
region <- tibble(ExpImp[grep(input, ExpImp$Регион),])  #поиск input в таблице
exp <- region[grep('.*Экспорт', colnames(region))] # только экспорт из input
colnames(exp) <- gsub("Экспорт","",colnames(exp)) # удаление из названий столбцов "Экспорт", т.е. ПродЭкспорт->Прод и т.п.
exp_numeric <- as.numeric(exp) #перевод значений показателей в числовой
imp <- region[grep('.*Импорт', colnames(region))] # только импорт из input
colnames(imp) <- gsub("Импорт","",colnames(imp)) # удаление из названий столбцов "Импорт", т.е. ПродИмпорт->Прод и т.п.
imp_numeric <- as.numeric(imp) #перевод значений показателей в числовой
return(list(exp_numeric,imp_numeric)) #замечение: при (list_2,list_1) все еще в получившемся списке первый элемент это list_1
}
file_name <- "C:/Users/User/studyR/data/ExpImp.Rdata"
load(file_name)
lists = get_info('Центральный федеральный округ')
print(a)
file_name <- "C:/Users/User/studyR/data/ExpImp.Rdata"
load(file_name)
lists = get_info('Центральный федеральный округ')
print("названия тех отраслей промышленности, по которым экспорт превышает импорт:")
lists[1]
print("названия тех отраслей промышленности, по которым импорт превышает экспорт:")
lists[2]
